GAS LISTING testcpuid.S 			page 1


   1              	/**
   2              	 * cpuid.S -- –ø–µ—á–∞—Ç–∞–µ—Ç —Å–≤–µ–¥–µ–Ω–∏—è –æ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
   3              	 *
   4              	 * Copyright (c) 2022 Petrozavodsk State University
   5              	 *
   6              	 * Permission is hereby granted, free of charge, to any person obtaining
   7              	 * a copy of this software and associated documentation files (the
   8              	 * "Software"), to deal in the Software without restriction, including
   9              	 * without limitation the rights to use, copy, modify, merge, publish,
  10              	 * distribute, sublicense, and/or sell copies of the Software, and to
  11              	 * permit persons to whom the Software is furnished to do so, subject to
  12              	 * the following conditions:
  13              	 *
  14              	 * The above copyright notice and this permission notice shall be
  15              	 * included in all copies or substantial portions of the Software.
  16              	 */
  17              	
  18              	.include "my-macro"
   1              	/* –ú–∞–∫—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã */
   2              	
   3              	.macro Exit
   4              	    movl $0, %ebx 	# first argument: exit code
   5              	    movl $1, %eax 	# sys_exit index
   6              	    int  $0x80 		# kernel interrupt
   7              	.endm
   8              	
   9              	/*
  10              	 * –ú–∞—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ —Å–∏–
  11              	 * –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
  12              	 *      - –∞–¥—Ä–µ—Å –±—É—Ñ—Ñ–µ—Ä–∞ –¥–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–∞
  13              	 * –†–µ–∑—É–ª—å—Ç–∞—Ç:
  14              	 *      - –≤ %eax –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
  15              	 *      - –ø–æ –∞–¥—Ä–µ—Å—É buf_addr - —Å—á–∏—Ç–∞–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª
  16              	 *
  17              	 * –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä—ã: %e
  18              	 * –°–º. —Ç–∞–∫–∂–µ 'man 2 read'
  19              	*/
  20              	.macro Getchar buf_addr
  21              	        movl $3, %eax           # –Ω–æ–º–µ—Ä —Å–∏—Å—Ç. –≤—ã–∑–æ–≤–∞ read
  22              	        movl $0, %ebx           # –ø–∞—Ä–∞–º–µ—Ç—Ä 1: –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ
  23              	        movl \buf_addr, %ecx    # –ø–∞—Ä–∞–º–µ—Ç—Ä 2: –∞–¥—Ä–µ—Å –±—É—Ñ–µ—Ä–∞ (–æ–Ω –∂–µ - —Ñ–∞–∫—Ç
  24              	                                # –ø–∞—Ä–∞–º–µ—Ç—Ä –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞)
  25              	        movl $1, %edx           # –ø–∞—Ä–∞–º–µ—Ç—Ä 3: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è —á—Ç
  26              	        int $0x80               # –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤
  27              	.endm
  28              	
  29              	/*
  30              	 * –ú–∞—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤—ã–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏ –≤ —Å—Ç–∞–Ω–¥
  31              	 * –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
  32              	 *      - –°—Ç—Ä–æ–∫–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞.
  33              	 *
  34              	 * –ü—Ä–∏–º–µ—Ç—Ä –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞:
  35              	 *      Puts "–¢–µ–∫—Å—Ç –≤—ã–≤–æ–¥–∏–º–æ–π —Å—Ç—Ä–æ–∫–∏"
  36              	 *
  37              	 * –†–µ–∑—É–ª—å—Ç–∞—Ç:
  38              	 *      - –≤—ã–≤–æ–¥–∏—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ —Å–∏–º–≤–æ–ª—ã –∑–∞–¥–∞–Ω–Ω–æ–π —Å—Ç—
  39              	 *        –∞ —Ç–∞–∫–∂–µ —Å–∏–º–≤–æ–ª –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏
GAS LISTING testcpuid.S 			page 2


  40              	 *
  41              	 * –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞–∫—Ä–æ–≤—ã–∑–æ–≤–∞ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä—ã: %e
  42              	 * –°–º. —Ç–∞–∫–∂–µ 'man puts', 'man 2 write'
  43              	*/
  44              	.macro Puts string
  45              	.data
  46              	    str\@:      .ascii "\string\n"  # —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä–æ–∫–∏ 
  47              	
  48              	    strlen\@ =  . - str\@           # –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–∏
  49              	
  50              	.text
  51              	  movl $4, %eax         # –Ω–æ–º–µ—Ä —Å–∏—Å—Ç. –≤—ã–∑–æ–≤–∞ write
  52              	        movl $1, %ebx           # –ø–∞—Ä–∞–º–µ—Ç—Ä 1: –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ
  53              	        movl $str\@, %ecx       # –ø–∞—Ä–∞–º–µ—Ç—Ä 2: –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏ —Å –≤—ã–≤–æ–¥–∏–º—ã–º
  54              	        movl $strlen\@, %edx    # –ø–∞—Ä–∞–º–µ—Ç—Ä 3: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è –≤—ã
  55              	        int $0x80               # –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤
  56              	.endm
  19              	
  20              	/* –°–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö */
  21              	
  22              	.data
  23              	
  24              	errmess:
  25 0000 43505549 	        .string "CPUID is not supported\n"
  25      44206973 
  25      206E6F74 
  25      20737570 
  25      706F7274 
  26              	
  27              	/* –°–µ–∫—Ü–∏—è –∫–æ–º–∞–Ω–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ */
  28              	
  29              	.text
  30              	
  31              	    .global _start                      # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ - –≥–ª–æ–±–∞–ª—å–Ω–∞—è –º–µ—Ç–∫–∞
  32              	_start:
  33              	
  34              	    /* –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–µ–∫ –∫ —Ä–∞–±–æ—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω
  35 0000 55       	        pushl %ebp                      # —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç–µ
  36 0001 89E5     	        movl  %esp, %ebp
  37 0003 83EC10   	        subl  $16, %esp                 # —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º 16 –±–∞–π—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–
  38              	                                        # –±—É—Ñ–µ—Ä–∞
  39              	
  40              	    /* –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º, –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è cpuid */
  41 0006 9C       	        pushfl                          # –ø–æ–ª—É—á–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ —Ñ
  42 0007 58       	        popl %eax                       # –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ eax
  43 0008 89C3     	        movl %eax, %ebx                 # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–ø–∏—é —Ä–µ–≥–∏—Å—Ç—Ä–∞ —Ñ–ª–∞–≥–æ
  44 000a 35000020 	        xorl $0x00200000, %eax          # –º–µ–Ω—è–µ–º –±–∏—Ç 21 –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–
  44      00
  45 000f 50       	        pushl %eax                      # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  46 0010 9D       	        popfl                           # –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ —Ñ–ª–∞–≥–æ–≤
  47 0011 9C       	        pushfl                          # —Å–Ω–æ–≤–∞ –ø–æ–ª—É—á–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä —Ñ–ª–∞–≥–æ–≤
  48 0012 58       	        popl %eax
  49 0013 31D8     	        xorl %ebx, %eax                 # –µ—Å–ª–∏ –±–∏—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è
  50 0015 0F84B600 	        je no_cpuid                     # cpuid –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
  50      0000
  51              	
  52              	    /* –ü–æ–ª—É—á–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ */
GAS LISTING testcpuid.S 			page 3


  53 001b B8000000 	        movl $0, %eax                  # –∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä ea
  53      00
  54 0020 0FA2     	        cpuid                          # –ø–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ–∫—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
  55 0022 895DF0   	        movl %ebx, -16(%ebp)           # –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö ebx, edx, ecx
  56 0025 8955F4   	        movl %edx, -12(%ebp)           # —Å–æ—Ö—Ä–∞–Ω–∞–µ–º –≤ –±—É—Ñ–µ—Ä
  57 0028 894DF8   	        movl %ecx, -8(%ebp)
  58 002b C645FC0A 	        movb $10, -4(%ebp)             # –ø–æ–º–µ—â–∞–µ–º —Å–∏–º–≤–æ–ª –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–
  59              	                                       # –≤ –∫–æ–Ω–µ—Ü –±—É—Ñ–µ—Ä–∞
  60 002f 89C6     		movl %eax, %esi
  61              	
  62              	    /* –í—ã–≤–æ–¥–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –¶
  63 0031 B8040000 	        movl $4, %eax                  # –ø–æ–º–µ—â–∞–µ–º –Ω–æ–º–µ—Ä —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–
  63      00
  64              	                                       # write –≤ —Ä–µ–≥–∏—Å—Ç—Ä eax
  65 0036 BB010000 	        movl $1, %ebx                  # –ø–æ–º–µ—â–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ—
  65      00
  66              	                                       # –≤—ã–≤–æ–¥–∞ (stdout) –≤ ebx
  67 003b 89E9     	        movl %ebp, %ecx                # –ø–æ–º–µ—â–∞–µ–º –∞–¥—Ä–µ—Å –Ω–∞—á–∞–ª–∞ –±—É—Ñ–µ—Ä–∞ –≤—ã
  68 003d 83E910   	        subl $16, %ecx                 # –≤ ecx
  69 0040 BA0D0000 	        movl $13, %edx                 # –ø–æ–º–µ—â–∞–µ–º –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫–∏ –≤ edx
  69      00
  70 0045 CD80     	        int $0x80                      # –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –û–° –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  71              	                                       # —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (–≤—ã–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫
  72              	
  73              	    /*** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ - –†–ï–ê–õ–ò–ó–£–ô–¢–ï –°–ê–ú–û–°–¢–û–Ø–¢–ï–
  74              	
  75 0047 83FE01   		cmpl $1, %esi
  76 004a 0F8C9800 		jl cpuid_function_1_not_supported
  76      0000
  77              	
  78              	    /*** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (x
  79              	
  80              	check_FPU:
  81 0050 B8010000 		movl $1, %eax
  81      00
  82 0055 0FA2     		cpuid
  83              	
  84 0057 F7C20100 		test $0x00000001, %edx
  84      0000
  85 005d 7542     		jnz FPU
  86              	
  87              	    Puts "ERROR"
  87              	> .data
  87 0018 4552524F 	>  str0:.ascii "ERROR\n"
  87      520A
  87              	> 
  87              	>  strlen0 =. - str0
  87              	> 
  87              	> .text
  87 005f B8040000 	>  movl $4,%eax
  87      00
  87 0064 BB010000 	>  movl $1,%ebx
  87      00
  87 0069 B9180000 	>  movl $str0,%ecx
  87      00
  87 006e BA060000 	>  movl $strlen0,%edx
  87      00
GAS LISTING testcpuid.S 			page 4


  87 0073 CD80     	>  int $0x80
  88 0075 E9840000 		jmp done
  88      00
  89              	
  90              	check_MMX:
  91 007a B8010000 	    movl $1, %eax
  91      00
  92 007f 0FA2     		cpuid
  93              	
  94 0081 F7C20000 		test $0x00800000, %edx
  94      8000
  95 0087 7530     		jnz MMX
  96              	
  97              		Puts "ERROR"
  97              	> .data
  97 001e 4552524F 	>  str1:.ascii "ERROR\n"
  97      520A
  97              	> 
  97              	>  strlen1 =. - str1
  97              	> 
  97              	> .text
  97 0089 B8040000 	>  movl $4,%eax
  97      00
  97 008e BB010000 	>  movl $1,%ebx
  97      00
  97 0093 B91E0000 	>  movl $str1,%ecx
  97      00
  97 0098 BA060000 	>  movl $strlen1,%edx
  97      00
  97 009d CD80     	>  int $0x80
  98 009f EB5D     		jmp done
  99              	
 100              	    /*** */
 101              	
 102              	FPU:
 103              		Puts "FPU"
 103              	> .data
 103 0024 4650550A 	>  str2:.ascii "FPU\n"
 103              	> 
 103              	>  strlen2 =. - str2
 103              	> 
 103              	> .text
 103 00a1 B8040000 	>  movl $4,%eax
 103      00
 103 00a6 BB010000 	>  movl $1,%ebx
 103      00
 103 00ab B9240000 	>  movl $str2,%ecx
 103      00
 103 00b0 BA040000 	>  movl $strlen2,%edx
 103      00
 103 00b5 CD80     	>  int $0x80
 104 00b7 EBC1     		jmp check_MMX
 105              	
 106              	MMX:
 107              		Puts "MMX"
 107              	> .data
 107 0028 4D4D580A 	>  str3:.ascii "MMX\n"
GAS LISTING testcpuid.S 			page 5


 107              	> 
 107              	>  strlen3 =. - str3
 107              	> 
 107              	> .text
 107 00b9 B8040000 	>  movl $4,%eax
 107      00
 107 00be BB010000 	>  movl $1,%ebx
 107      00
 107 00c3 B9280000 	>  movl $str3,%ecx
 107      00
 107 00c8 BA040000 	>  movl $strlen3,%edx
 107      00
 107 00cd CD80     	>  int $0x80
 108 00cf EB2D     		jmp done
 109              	
 110              	    /* –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Ç—É–∞—Ü–∏–∏, –µ—Å–ª–∏ cpuid –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (80386) */
 111              	no_cpuid:
 112 00d1 B8040000 	        movl $4, %eax                  # –ø–æ–º–µ—â–∞–µ–º –Ω–æ–º–µ—Ä —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–
 112      00
 113              	                                       # write –≤ —Ä–µ–≥–∏—Å—Ç—Ä eax
 114 00d6 BB010000 	        movl $1, %ebx                  # –ø–æ–º–µ—â–∞–µ–º –Ω–æ–º–µ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ—
 114      00
 115              	                                       # –≤—ã–≤–æ–¥–∞ (stdout) –≤ ebx
 116 00db 8D0D0000 	        leal errmess, %ecx             # –ø–æ–º–µ—â–∞–µ–º –∞–¥—Ä–µ—Å –Ω–∞—á–∞–ª–∞ –±—É—Ñ–µ—Ä–∞ –≤—ã
 116      0000
 117 00e1 BA180000 	        movl $24, %edx                 # –ø–æ–º–µ—â–∞–µ–º –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫–∏ –≤ edx
 117      00
 118 00e6 CD80     	        int $0x80                      # –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –û–° –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
 119              	                                       # —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (–≤—ã–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫
 120              	cpuid_function_1_not_supported:
 121              		Puts "Function '1' of the CPUID is not supporter by your processor!"
 121              	> .data
 121 002c 46756E63 	>  str4:.ascii "Function '1' of the CPUID is not supporter by your processor!\n"
 121      74696F6E 
 121      20273127 
 121      206F6620 
 121      74686520 
 121              	> 
 121              	>  strlen4 =. - str4
 121              	> 
 121              	> .text
 121 00e8 B8040000 	>  movl $4,%eax
 121      00
 121 00ed BB010000 	>  movl $1,%ebx
 121      00
 121 00f2 B92C0000 	>  movl $str4,%ecx
 121      00
 121 00f7 BA3E0000 	>  movl $strlen4,%edx
 121      00
 121 00fc CD80     	>  int $0x80
 122              	
 123              	
 124              	    /* –û—Ä–≥–∞–Ω–∏–∑—É–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã */
 125              	done:
 126 00fe 89EC     	        mov %ebp, %esp                  # –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç–µ–∫–
 127 0100 5D       	        popl %ebp
 128              	
GAS LISTING testcpuid.S 			page 6


 129 0101 B8010000 	        movl $1, %eax                   # –∑–∞–≥—Ä—É–∂–∞–µ–º –≤ eax –Ω–æ–º–µ—Ä –≤—ã–∑–æ–≤–∞ exit
 129      00
 130 0106 BB000000 	        movl $0, %ebx                   # –∑–∞–≥—Ä—É–∂–∞–µ–º –≤ ebx –∫–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ 0
 130      00
 131 010b CD80     	        int $0x80                       # –≤—ã–ø–æ–ª–Ω—è–µ–º –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –û–° –¥–ª—è
 132              	                                        # –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
 133              	
 134              		.end                            # –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ 
GAS LISTING testcpuid.S 			page 7


DEFINED SYMBOLS
         testcpuid.S:24     .data:0000000000000000 errmess
         testcpuid.S:32     .text:0000000000000000 _start
         testcpuid.S:111    .text:00000000000000d1 no_cpuid
         testcpuid.S:120    .text:00000000000000e8 cpuid_function_1_not_supported
         testcpuid.S:80     .text:0000000000000050 check_FPU
         testcpuid.S:102    .text:00000000000000a1 FPU
         testcpuid.S:87     .data:0000000000000018 str0
         testcpuid.S:87     *ABS*:0000000000000006 strlen0
         testcpuid.S:125    .text:00000000000000fe done
         testcpuid.S:90     .text:000000000000007a check_MMX
         testcpuid.S:106    .text:00000000000000b9 MMX
         testcpuid.S:97     .data:000000000000001e str1
         testcpuid.S:97     *ABS*:0000000000000006 strlen1
         testcpuid.S:103    .data:0000000000000024 str2
         testcpuid.S:103    *ABS*:0000000000000004 strlen2
         testcpuid.S:107    .data:0000000000000028 str3
         testcpuid.S:107    *ABS*:0000000000000004 strlen3
         testcpuid.S:121    .data:000000000000002c str4
         testcpuid.S:121    *ABS*:000000000000003e strlen4

NO UNDEFINED SYMBOLS
